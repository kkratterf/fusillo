/*! For license information please see 8580.9deb7268.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_fusillo_storybook=self.webpackChunk_fusillo_storybook||[]).push([[8580],{"../../node_modules/lucide-react/dist/esm/createLucideIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createLucideIcon});var react=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");const mergeClasses=(...classes)=>classes.filter(((className,index,array)=>Boolean(className)&&array.indexOf(className)===index)).join(" ");var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=(0,react.forwardRef)((({color="currentColor",size=24,strokeWidth=2,absoluteStrokeWidth,className="",children,iconNode,...rest},ref)=>(0,react.createElement)("svg",{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:mergeClasses("lucide",className),...rest},[...iconNode.map((([tag,attrs])=>(0,react.createElement)(tag,attrs))),...Array.isArray(children)?children:[children]]))),createLucideIcon=(iconName,iconNode)=>{const Component=(0,react.forwardRef)((({className,...props},ref)=>{return(0,react.createElement)(Icon,{ref,iconNode,className:mergeClasses(`lucide-${string=iconName,string.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,className),...props});var string}));return Component.displayName=`${iconName}`,Component}},"../../node_modules/lucide-react/dist/esm/icons/grip-vertical.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>GripVertical});const GripVertical=(0,__webpack_require__("../../node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])},"../../node_modules/react-resizable-panels/dist/react-resizable-panels.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;__webpack_require__.d(__webpack_exports__,{TW:()=>PanelResizeHandle,YZ:()=>PanelGroup,Zk:()=>Panel});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");const{createElement,createContext,forwardRef,useCallback,useContext,useEffect,useImperativeHandle,useLayoutEffect,useMemo,useRef,useState}=react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2)),useId=(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2)))["useId".toString()],useIsomorphicLayoutEffect=useLayoutEffect,wrappedUseId="function"==typeof useId?useId:()=>null;let counter=0;function useUniqueId(idFromParams=null){const idFromUseId=wrappedUseId(),idRef=useRef(idFromParams||idFromUseId||null);return null===idRef.current&&(idRef.current=""+counter++),idRef.current}const PanelGroupContext=createContext(null);function PanelWithForwardedRef({children=null,className:classNameFromProps="",collapsedSize=0,collapsible=!1,defaultSize=null,forwardedRef,id:idFromProps=null,maxSize=null,minSize,onCollapse=null,onResize=null,order=null,style:styleFromProps={},tagName:Type="div"}){const context=useContext(PanelGroupContext);if(null===context)throw Error("Panel components must be rendered within a PanelGroup container");const panelId=useUniqueId(idFromProps),{collapsePanel,expandPanel,getPanelSize,getPanelStyle,registerPanel,resizePanel,units,unregisterPanel}=context;null==minSize&&(minSize="percentages"===units?10:0);const callbacksRef=useRef({onCollapse,onResize});useEffect((()=>{callbacksRef.current.onCollapse=onCollapse,callbacksRef.current.onResize=onResize}));const style=getPanelStyle(panelId,defaultSize),committedValuesRef=useRef({size:parseSizeFromStyle(style)}),panelDataRef=useRef({callbacksRef,collapsedSize,collapsible,defaultSize,id:panelId,idWasAutoGenerated:null==idFromProps,maxSize,minSize,order});return useIsomorphicLayoutEffect((()=>{committedValuesRef.current.size=parseSizeFromStyle(style),panelDataRef.current.callbacksRef=callbacksRef,panelDataRef.current.collapsedSize=collapsedSize,panelDataRef.current.collapsible=collapsible,panelDataRef.current.defaultSize=defaultSize,panelDataRef.current.id=panelId,panelDataRef.current.idWasAutoGenerated=null==idFromProps,panelDataRef.current.maxSize=maxSize,panelDataRef.current.minSize=minSize,panelDataRef.current.order=order})),useIsomorphicLayoutEffect((()=>(registerPanel(panelId,panelDataRef),()=>{unregisterPanel(panelId)})),[order,panelId,registerPanel,unregisterPanel]),useImperativeHandle(forwardedRef,(()=>({collapse:()=>collapsePanel(panelId),expand:()=>expandPanel(panelId),getCollapsed:()=>0===committedValuesRef.current.size,getId:()=>panelId,getSize:units=>getPanelSize(panelId,units),resize:(percentage,units)=>resizePanel(panelId,percentage,units)})),[collapsePanel,expandPanel,getPanelSize,panelId,resizePanel]),createElement(Type,{children,className:classNameFromProps,"data-panel":"","data-panel-collapsible":collapsible||void 0,"data-panel-id":panelId,"data-panel-size":parseFloat(""+style.flexGrow).toFixed(1),id:`data-panel-id-${panelId}`,style:{...style,...styleFromProps}})}PanelGroupContext.displayName="PanelGroupContext";const Panel=forwardRef(((props,ref)=>createElement(PanelWithForwardedRef,{...props,forwardedRef:ref})));function parseSizeFromStyle(style){const{flexGrow}=style;return"string"==typeof flexGrow?parseFloat(flexGrow):flexGrow}PanelWithForwardedRef.displayName="Panel",Panel.displayName="forwardRef(Panel)";const PRECISION=10;function adjustByDelta(event,committedValues,idBefore,idAfter,deltaPixels,prevSizes,panelSizeBeforeCollapse,initialDragState){const{id:groupId,panels,units}=committedValues,groupSizePixels="pixels"===units?getAvailableGroupSizePixels(groupId):NaN,{sizes:initialSizes}=initialDragState||{},baseSizes=initialSizes||prevSizes,panelsArray=panelsMapToSortedArray(panels),nextSizes=baseSizes.concat();let deltaApplied=0;{const pivotId=deltaPixels<0?idAfter:idBefore,index=panelsArray.findIndex((panel=>panel.current.id===pivotId)),panel=panelsArray[index],baseSize=baseSizes[index],nextSize=safeResizePanel(units,groupSizePixels,panel,baseSize,baseSize+Math.abs(deltaPixels),event);if(baseSize===nextSize)return baseSizes;0===nextSize&&baseSize>0&&panelSizeBeforeCollapse.set(pivotId,baseSize),deltaPixels=deltaPixels<0?baseSize-nextSize:nextSize-baseSize}let pivotId=deltaPixels<0?idBefore:idAfter,index=panelsArray.findIndex((panel=>panel.current.id===pivotId));for(;;){const panel=panelsArray[index],baseSize=baseSizes[index],nextSize=safeResizePanel(units,groupSizePixels,panel,baseSize,baseSize-(Math.abs(deltaPixels)-Math.abs(deltaApplied)),event);if(baseSize!==nextSize&&(0===nextSize&&baseSize>0&&panelSizeBeforeCollapse.set(panel.current.id,baseSize),deltaApplied+=baseSize-nextSize,nextSizes[index]=nextSize,deltaApplied.toPrecision(PRECISION).localeCompare(Math.abs(deltaPixels).toPrecision(PRECISION),void 0,{numeric:!0})>=0))break;if(deltaPixels<0){if(--index<0)break}else if(++index>=panelsArray.length)break}return 0===deltaApplied?baseSizes:(pivotId=deltaPixels<0?idAfter:idBefore,index=panelsArray.findIndex((panel=>panel.current.id===pivotId)),nextSizes[index]=baseSizes[index]+deltaApplied,nextSizes)}function callPanelCallbacks(panelsArray,sizes,panelIdToLastNotifiedSizeMap){sizes.forEach(((size,index)=>{const panelRef=panelsArray[index];if(!panelRef)return;const{callbacksRef,collapsedSize,collapsible,id}=panelRef.current,lastNotifiedSize=panelIdToLastNotifiedSizeMap[id];if(lastNotifiedSize!==size){panelIdToLastNotifiedSizeMap[id]=size;const{onCollapse,onResize}=callbacksRef.current;onResize&&onResize(size,lastNotifiedSize),collapsible&&onCollapse&&(null!=lastNotifiedSize&&lastNotifiedSize!==collapsedSize||size===collapsedSize?lastNotifiedSize!==collapsedSize&&size===collapsedSize&&onCollapse(!0):onCollapse(!1))}}))}function getBeforeAndAfterIds(id,panelsArray){if(panelsArray.length<2)return[null,null];const index=panelsArray.findIndex((panel=>panel.current.id===id));if(index<0)return[null,null];const isLastPanel=index===panelsArray.length-1;return[isLastPanel?panelsArray[index-1].current.id:id,isLastPanel?id:panelsArray[index+1].current.id]}function getAvailableGroupSizePixels(groupId){const panelGroupElement=getPanelGroup(groupId);if(null==panelGroupElement)return NaN;const direction=panelGroupElement.getAttribute("data-panel-group-direction"),resizeHandles=getResizeHandlesForGroup(groupId);return"horizontal"===direction?panelGroupElement.offsetWidth-resizeHandles.reduce(((accumulated,handle)=>accumulated+handle.offsetWidth),0):panelGroupElement.offsetHeight-resizeHandles.reduce(((accumulated,handle)=>accumulated+handle.offsetHeight),0)}function getFlexGrow(panels,id,sizes){if(1===panels.size)return"100";const size=sizes[panelsMapToSortedArray(panels).findIndex((panel=>panel.current.id===id))];return null==size?"0":size.toPrecision(PRECISION)}function getPanelGroup(id){const element=document.querySelector(`[data-panel-group-id="${id}"]`);return element||null}function getResizeHandle(id){const element=document.querySelector(`[data-panel-resize-handle-id="${id}"]`);return element||null}function getResizeHandles(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function getResizeHandlesForGroup(groupId){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${groupId}"]`))}function getResizeHandlePanelIds(groupId,handleId,panelsArray){const handle=getResizeHandle(handleId),handles=getResizeHandlesForGroup(groupId),index=handle?handles.indexOf(handle):-1;return[panelsArray[index]?.current?.id??null,panelsArray[index+1]?.current?.id??null]}function panelsMapToSortedArray(panels){return Array.from(panels.values()).sort(((panelA,panelB)=>{const orderA=panelA.current.order,orderB=panelB.current.order;return null==orderA&&null==orderB?0:null==orderA?-1:null==orderB?1:orderA-orderB}))}function safeResizePanel(units,groupSizePixels,panel,prevSize,nextSize,event=null){let{collapsedSize,collapsible,maxSize,minSize}=panel.current;if("pixels"===units&&(collapsedSize=collapsedSize/groupSizePixels*100,null!=maxSize&&(maxSize=maxSize/groupSizePixels*100),minSize=minSize/groupSizePixels*100),collapsible)if(prevSize>collapsedSize){if(nextSize<=minSize/2+collapsedSize)return collapsedSize}else{const isKeyboardEvent=event?.type?.startsWith("key");if(!isKeyboardEvent&&nextSize<minSize)return collapsedSize}return Math.min(null!=maxSize?maxSize:100,Math.max(minSize,nextSize))}function validatePanelGroupLayout({groupId,panels,nextSizes,prevSizes,units}){nextSizes=[...nextSizes];const panelsArray=panelsMapToSortedArray(panels),groupSizePixels="pixels"===units?getAvailableGroupSizePixels(groupId):NaN;let remainingSize=0;for(let index=0;index<panelsArray.length;index++){const panel=panelsArray[index],prevSize=prevSizes[index],nextSize=nextSizes[index],safeNextSize=safeResizePanel(units,groupSizePixels,panel,prevSize,nextSize);nextSize!=safeNextSize&&(remainingSize+=nextSize-safeNextSize,nextSizes[index]=safeNextSize)}if("0.000"!==remainingSize.toFixed(3))for(let index=0;index<panelsArray.length;index++){const panel=panelsArray[index];let{maxSize,minSize}=panel.current;"pixels"===units&&(minSize=minSize/groupSizePixels*100,null!=maxSize&&(maxSize=maxSize/groupSizePixels*100));const size=Math.min(null!=maxSize?maxSize:100,Math.max(minSize,nextSizes[index]+remainingSize));if(size!==nextSizes[index]&&(remainingSize-=size-nextSizes[index],nextSizes[index]=size,"0.000"===Math.abs(remainingSize).toFixed(3)))break}return remainingSize.toFixed(3),nextSizes}function assert(expectedCondition,message="Assertion failed!"){if(!expectedCondition)throw console.error(message),Error(message)}function useWindowSplitterPanelGroupBehavior({committedValuesRef,groupId,panels,setSizes,sizes,panelSizeBeforeCollapse}){useEffect((()=>{const{direction,panels}=committedValuesRef.current,groupElement=getPanelGroup(groupId);assert(null!=groupElement,`No group found for id "${groupId}"`);const{height,width}=groupElement.getBoundingClientRect(),cleanupFunctions=getResizeHandlesForGroup(groupId).map((handle=>{const handleId=handle.getAttribute("data-panel-resize-handle-id"),panelsArray=panelsMapToSortedArray(panels),[idBefore,idAfter]=getResizeHandlePanelIds(groupId,handleId,panelsArray);if(null==idBefore||null==idAfter)return()=>{};let currentMinSize=0,currentMaxSize=100,totalMinSize=0,totalMaxSize=0;panelsArray.forEach((panelData=>{const{id,maxSize,minSize}=panelData.current;id===idBefore?(currentMinSize=minSize,currentMaxSize=null!=maxSize?maxSize:100):(totalMinSize+=minSize,totalMaxSize+=null!=maxSize?maxSize:100)}));const ariaValueMax=Math.min(currentMaxSize,100-totalMinSize),ariaValueMin=Math.max(currentMinSize,100*(panelsArray.length-1)-totalMaxSize),flexGrow=getFlexGrow(panels,idBefore,sizes);handle.setAttribute("aria-valuemax",""+Math.round(ariaValueMax)),handle.setAttribute("aria-valuemin",""+Math.round(ariaValueMin)),handle.setAttribute("aria-valuenow",""+Math.round(parseInt(flexGrow)));const onKeyDown=event=>{if(!event.defaultPrevented)switch(event.key){case"Enter":{event.preventDefault();const index=panelsArray.findIndex((panel=>panel.current.id===idBefore));if(index>=0){const panelData=panelsArray[index],size=sizes[index];if(null!=size){let delta=0;delta=size.toPrecision(PRECISION)<=panelData.current.minSize.toPrecision(PRECISION)?"horizontal"===direction?width:height:-("horizontal"===direction?width:height);const nextSizes=adjustByDelta(event,committedValuesRef.current,idBefore,idAfter,delta,sizes,panelSizeBeforeCollapse.current,null);sizes!==nextSizes&&setSizes(nextSizes)}}break}}};handle.addEventListener("keydown",onKeyDown);const panelBefore=function getPanel(id){const element=document.querySelector(`[data-panel-id="${id}"]`);return element||null}(idBefore);return null!=panelBefore&&handle.setAttribute("aria-controls",panelBefore.id),()=>{handle.removeAttribute("aria-valuemax"),handle.removeAttribute("aria-valuemin"),handle.removeAttribute("aria-valuenow"),handle.removeEventListener("keydown",onKeyDown),null!=panelBefore&&handle.removeAttribute("aria-controls")}}));return()=>{cleanupFunctions.forEach((cleanupFunction=>cleanupFunction()))}}),[committedValuesRef,groupId,panels,panelSizeBeforeCollapse,setSizes,sizes])}function useWindowSplitterResizeHandlerBehavior({disabled,handleId,resizeHandler}){useEffect((()=>{if(disabled||null==resizeHandler)return;const handleElement=getResizeHandle(handleId);if(null==handleElement)return;const onKeyDown=event=>{if(!event.defaultPrevented)switch(event.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":event.preventDefault(),resizeHandler(event);break;case"F6":{event.preventDefault();const handles=getResizeHandles(),index=function getResizeHandleIndex(id){return getResizeHandles().findIndex((handle=>handle.getAttribute("data-panel-resize-handle-id")===id))??null}(handleId);assert(null!==index);handles[event.shiftKey?index>0?index-1:handles.length-1:index+1<handles.length?index+1:0].focus();break}}};return handleElement.addEventListener("keydown",onKeyDown),()=>{handleElement.removeEventListener("keydown",onKeyDown)}}),[disabled,handleId,resizeHandler])}function areEqual(arrayA,arrayB){if(arrayA.length!==arrayB.length)return!1;for(let index=0;index<arrayA.length;index++)if(arrayA[index]!==arrayB[index])return!1;return!0}function getDragOffset(event,handleId,direction,initialOffset=0,initialHandleElementRect=null){const isHorizontal="horizontal"===direction;let pointerOffset=0;if(isMouseEvent(event))pointerOffset=isHorizontal?event.clientX:event.clientY;else{if(!isTouchEvent(event))return 0;{const firstTouch=event.touches[0];pointerOffset=isHorizontal?firstTouch.screenX:firstTouch.screenY}}const handleElement=getResizeHandle(handleId),rect=initialHandleElementRect||handleElement.getBoundingClientRect();return pointerOffset-(isHorizontal?rect.left:rect.top)-initialOffset}function isMouseEvent(event){return event.type.startsWith("mouse")}function isTouchEvent(event){return event.type.startsWith("touch")}let currentState=null,element=null;function getCursorStyle(state){switch(state){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function setGlobalCursorStyle(state){if(currentState===state)return;currentState=state;const style=getCursorStyle(state);null===element&&(element=document.createElement("style"),document.head.appendChild(element)),element.innerHTML=`*{cursor: ${style}!important;}`}function getSerializationKey(panels){return panels.map((panel=>{const{minSize,order}=panel.current;return order?`${order}:${minSize}`:`${minSize}`})).sort(((a,b)=>a.localeCompare(b))).join(",")}function loadSerializedPanelGroupState(autoSaveId,storage){try{const serialized=storage.getItem(`PanelGroup:sizes:${autoSaveId}`);if(serialized){const parsed=JSON.parse(serialized);if("object"==typeof parsed&&null!=parsed)return parsed}}catch(error){}return null}function savePanelGroupLayout(autoSaveId,panels,sizes,storage){const key=getSerializationKey(panels),state=loadSerializedPanelGroupState(autoSaveId,storage)||{};state[key]=sizes;try{storage.setItem(`PanelGroup:sizes:${autoSaveId}`,JSON.stringify(state))}catch(error){console.error(error)}}const debounceMap={};function initializeDefaultStorage(storageObject){try{if("undefined"==typeof localStorage)throw new Error("localStorage not supported in this environment");storageObject.getItem=name=>localStorage.getItem(name),storageObject.setItem=(name,value)=>{localStorage.setItem(name,value)}}catch(error){console.error(error),storageObject.getItem=()=>null,storageObject.setItem=()=>{}}}const defaultStorage={getItem:name=>(initializeDefaultStorage(defaultStorage),defaultStorage.getItem(name)),setItem:(name,value)=>{initializeDefaultStorage(defaultStorage),defaultStorage.setItem(name,value)}};function PanelGroupWithForwardedRef({autoSaveId,children=null,className:classNameFromProps="",direction,disablePointerEventsDuringResize=!1,forwardedRef,id:idFromProps=null,onLayout,storage=defaultStorage,style:styleFromProps={},tagName:Type="div",units="percentages"}){const groupId=useUniqueId(idFromProps),[activeHandleId,setActiveHandleId]=useState(null),[panels,setPanels]=useState(new Map),initialDragStateRef=useRef(null);useRef({didLogDefaultSizeWarning:!1,didLogIdAndOrderWarning:!1,didLogInvalidLayoutWarning:!1,prevPanelIds:[]});const callbacksRef=useRef({onLayout});useEffect((()=>{callbacksRef.current.onLayout=onLayout}));const panelIdToLastNotifiedSizeMapRef=useRef({}),[sizes,setSizes]=useState([]),panelSizeBeforeCollapse=useRef(new Map),prevDeltaRef=useRef(0),committedValuesRef=useRef({direction,id:groupId,panels,sizes,units});useImperativeHandle(forwardedRef,(()=>({getId:()=>groupId,getLayout:unitsFromParams=>{const{sizes,units:unitsFromProps}=committedValuesRef.current;if("pixels"===(unitsFromParams??unitsFromProps)){const groupSizePixels=getAvailableGroupSizePixels(groupId);return sizes.map((size=>size/100*groupSizePixels))}return sizes},setLayout:(sizes,unitsFromParams)=>{const{id:groupId,panels,sizes:prevSizes,units}=committedValuesRef.current;if("pixels"===(unitsFromParams||units)){const groupSizePixels=getAvailableGroupSizePixels(groupId);sizes=sizes.map((size=>size/groupSizePixels*100))}const panelIdToLastNotifiedSizeMap=panelIdToLastNotifiedSizeMapRef.current,panelsArray=panelsMapToSortedArray(panels),nextSizes=validatePanelGroupLayout({groupId,panels,nextSizes:sizes,prevSizes,units});areEqual(prevSizes,nextSizes)||(setSizes(nextSizes),callPanelCallbacks(panelsArray,nextSizes,panelIdToLastNotifiedSizeMap))}})),[groupId]),useIsomorphicLayoutEffect((()=>{committedValuesRef.current.direction=direction,committedValuesRef.current.id=groupId,committedValuesRef.current.panels=panels,committedValuesRef.current.sizes=sizes,committedValuesRef.current.units=units})),useWindowSplitterPanelGroupBehavior({committedValuesRef,groupId,panels,setSizes,sizes,panelSizeBeforeCollapse}),useEffect((()=>{const{onLayout}=callbacksRef.current,{panels,sizes}=committedValuesRef.current;if(sizes.length>0){onLayout&&onLayout(sizes);const panelIdToLastNotifiedSizeMap=panelIdToLastNotifiedSizeMapRef.current;callPanelCallbacks(panelsMapToSortedArray(panels),sizes,panelIdToLastNotifiedSizeMap)}}),[sizes]),useIsomorphicLayoutEffect((()=>{const{id:groupId,sizes,units}=committedValuesRef.current;if(sizes.length===panels.size)return;let defaultSizes=null;if(autoSaveId){const panelsArray=panelsMapToSortedArray(panels);defaultSizes=function loadPanelLayout(autoSaveId,panels,storage){const state=loadSerializedPanelGroupState(autoSaveId,storage);if(state)return state[getSerializationKey(panels)]??null;return null}(autoSaveId,panelsArray,storage)}if(null!=defaultSizes){const validatedSizes=validatePanelGroupLayout({groupId,panels,nextSizes:defaultSizes,prevSizes:defaultSizes,units});setSizes(validatedSizes)}else{const sizes=function calculateDefaultLayout({groupId,panels,units}){const groupSizePixels="pixels"===units?getAvailableGroupSizePixels(groupId):NaN,panelsArray=panelsMapToSortedArray(panels),sizes=Array(panelsArray.length);let numPanelsWithSizes=0,remainingSize=100;for(let index=0;index<panelsArray.length;index++){const panel=panelsArray[index],{defaultSize}=panel.current;null!=defaultSize&&(numPanelsWithSizes++,sizes[index]="pixels"===units?defaultSize/groupSizePixels*100:defaultSize,remainingSize-=sizes[index])}for(let index=0;index<panelsArray.length;index++){const panel=panelsArray[index];let{defaultSize,id,maxSize,minSize}=panel.current;if(null!=defaultSize)continue;"pixels"===units&&(minSize=minSize/groupSizePixels*100,null!=maxSize&&(maxSize=maxSize/groupSizePixels*100));const remainingPanels=panelsArray.length-numPanelsWithSizes,size=Math.min(null!=maxSize?maxSize:100,Math.max(minSize,remainingSize/remainingPanels));sizes[index]=size,numPanelsWithSizes++,remainingSize-=size}if(0!==remainingSize)for(let index=0;index<panelsArray.length;index++){const panel=panelsArray[index];let{maxSize,minSize}=panel.current;"pixels"===units&&(minSize=minSize/groupSizePixels*100,null!=maxSize&&(maxSize=maxSize/groupSizePixels*100));const size=Math.min(null!=maxSize?maxSize:100,Math.max(minSize,sizes[index]+remainingSize));if(size!==sizes[index]&&(remainingSize-=size-sizes[index],sizes[index]=size,"0.000"===Math.abs(remainingSize).toFixed(3)))break}return Math.abs(remainingSize).toFixed(3),sizes}({groupId,panels,units});setSizes(sizes)}}),[autoSaveId,panels,storage]),useEffect((()=>{if(autoSaveId){if(0===sizes.length||sizes.length!==panels.size)return;const panelsArray=panelsMapToSortedArray(panels);debounceMap[autoSaveId]||(debounceMap[autoSaveId]=function debounce(callback,durationMs=10){let timeoutId=null;return(...args)=>{null!==timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout((()=>{callback(...args)}),durationMs)}}(savePanelGroupLayout,100)),debounceMap[autoSaveId](autoSaveId,panelsArray,sizes,storage)}}),[autoSaveId,panels,sizes,storage]),useIsomorphicLayoutEffect((()=>{if("pixels"===units){const resizeObserver=new ResizeObserver((()=>{const{panels,sizes:prevSizes}=committedValuesRef.current,nextSizes=validatePanelGroupLayout({groupId,panels,nextSizes:prevSizes,prevSizes,units});areEqual(prevSizes,nextSizes)||setSizes(nextSizes)}));return resizeObserver.observe(getPanelGroup(groupId)),()=>{resizeObserver.disconnect()}}}),[groupId,units]);const getPanelSize=useCallback(((id,unitsFromParams)=>{const{panels,units:unitsFromProps}=committedValuesRef.current,index=panelsMapToSortedArray(panels).findIndex((panel=>panel.current.id===id)),size=sizes[index];if("pixels"===(unitsFromParams??unitsFromProps)){return size/100*getAvailableGroupSizePixels(groupId)}return size}),[groupId,sizes]),getPanelStyle=useCallback(((id,defaultSize)=>{const{panels}=committedValuesRef.current;if(0===panels.size)return{flexBasis:0,flexGrow:null!=defaultSize?defaultSize:void 0,flexShrink:1,overflow:"hidden"};return{flexBasis:0,flexGrow:getFlexGrow(panels,id,sizes),flexShrink:1,overflow:"hidden",pointerEvents:disablePointerEventsDuringResize&&null!==activeHandleId?"none":void 0}}),[activeHandleId,disablePointerEventsDuringResize,sizes]),registerPanel=useCallback(((id,panelRef)=>{const{units}=committedValuesRef.current;!function validatePanelProps(units,panelData){const{collapsible,defaultSize,maxSize,minSize}=panelData.current;(minSize<0||"percentages"===units&&minSize>100)&&(panelData.current.minSize=0),null!=maxSize&&(maxSize<0||"percentages"===units&&maxSize>100)&&(panelData.current.maxSize=null),null!==defaultSize&&(defaultSize<0||"percentages"===units&&defaultSize>100?panelData.current.defaultSize=null:defaultSize<minSize&&!collapsible?panelData.current.defaultSize=minSize:null!=maxSize&&defaultSize>maxSize&&(panelData.current.defaultSize=maxSize))}(units,panelRef),setPanels((prevPanels=>{if(prevPanels.has(id))return prevPanels;const nextPanels=new Map(prevPanels);return nextPanels.set(id,panelRef),nextPanels}))}),[]),registerResizeHandle=useCallback((handleId=>event=>{event.preventDefault();const{direction,panels,sizes:prevSizes}=committedValuesRef.current,panelsArray=panelsMapToSortedArray(panels),[idBefore,idAfter]=getResizeHandlePanelIds(groupId,handleId,panelsArray);if(null==idBefore||null==idAfter)return;let movement=function getMovement(event,groupId,handleId,panelsArray,direction,prevSizes,initialDragState){const{dragOffset=0,dragHandleRect,sizes:initialSizes}=initialDragState||{},baseSizes=initialSizes||prevSizes;if(function isKeyDown(event){return"keydown"===event.type}(event)){const isHorizontal="horizontal"===direction,rect=getPanelGroup(groupId).getBoundingClientRect(),groupSizeInPixels=isHorizontal?rect.width:rect.height,delta=groupSizeInPixels/(event.shiftKey?10:100);let movement=0;switch(event.key){case"ArrowDown":movement=isHorizontal?0:delta;break;case"ArrowLeft":movement=isHorizontal?-delta:0;break;case"ArrowRight":movement=isHorizontal?delta:0;break;case"ArrowUp":movement=isHorizontal?0:-delta;break;case"End":movement=groupSizeInPixels;break;case"Home":movement=-groupSizeInPixels}const[idBefore,idAfter]=getResizeHandlePanelIds(groupId,handleId,panelsArray),targetPanelId=movement<0?idBefore:idAfter,targetPanelIndex=panelsArray.findIndex((panel=>panel.current.id===targetPanelId)),targetPanel=panelsArray[targetPanelIndex];if(targetPanel.current.collapsible){const baseSize=baseSizes[targetPanelIndex];0!==baseSize&&baseSize.toPrecision(PRECISION)!==targetPanel.current.minSize.toPrecision(PRECISION)||(movement=movement<0?-targetPanel.current.minSize*groupSizeInPixels:targetPanel.current.minSize*groupSizeInPixels)}return movement}return getDragOffset(event,handleId,direction,dragOffset,dragHandleRect)}(event,groupId,handleId,panelsArray,direction,prevSizes,initialDragStateRef.current);if(0===movement)return;const rect=getPanelGroup(groupId).getBoundingClientRect(),isHorizontal="horizontal"===direction;"rtl"===document.dir&&isHorizontal&&(movement=-movement);const delta=movement/(isHorizontal?rect.width:rect.height)*100,nextSizes=adjustByDelta(event,committedValuesRef.current,idBefore,idAfter,delta,prevSizes,panelSizeBeforeCollapse.current,initialDragStateRef.current),sizesChanged=!areEqual(prevSizes,nextSizes);if((isMouseEvent(event)||isTouchEvent(event))&&prevDeltaRef.current!=delta&&setGlobalCursorStyle(sizesChanged?isHorizontal?"horizontal":"vertical":isHorizontal?movement<0?"horizontal-min":"horizontal-max":movement<0?"vertical-min":"vertical-max"),sizesChanged){const panelIdToLastNotifiedSizeMap=panelIdToLastNotifiedSizeMapRef.current;setSizes(nextSizes),callPanelCallbacks(panelsArray,nextSizes,panelIdToLastNotifiedSizeMap)}prevDeltaRef.current=delta}),[groupId]),unregisterPanel=useCallback((id=>{setPanels((prevPanels=>{if(!prevPanels.has(id))return prevPanels;const nextPanels=new Map(prevPanels);return nextPanels.delete(id),nextPanels}))}),[]),collapsePanel=useCallback((id=>{const{panels,sizes:prevSizes}=committedValuesRef.current,panel=panels.get(id);if(null==panel)return;const{collapsedSize,collapsible}=panel.current;if(!collapsible)return;const panelsArray=panelsMapToSortedArray(panels),index=panelsArray.indexOf(panel);if(index<0)return;const currentSize=prevSizes[index];if(currentSize===collapsedSize)return;panelSizeBeforeCollapse.current.set(id,currentSize);const[idBefore,idAfter]=getBeforeAndAfterIds(id,panelsArray);if(null==idBefore||null==idAfter)return;const delta=index===panelsArray.length-1?currentSize:collapsedSize-currentSize,nextSizes=adjustByDelta(null,committedValuesRef.current,idBefore,idAfter,delta,prevSizes,panelSizeBeforeCollapse.current,null);if(prevSizes!==nextSizes){const panelIdToLastNotifiedSizeMap=panelIdToLastNotifiedSizeMapRef.current;setSizes(nextSizes),callPanelCallbacks(panelsArray,nextSizes,panelIdToLastNotifiedSizeMap)}}),[]),expandPanel=useCallback((id=>{const{panels,sizes:prevSizes}=committedValuesRef.current,panel=panels.get(id);if(null==panel)return;const{collapsedSize,minSize}=panel.current,sizeBeforeCollapse=panelSizeBeforeCollapse.current.get(id)||minSize;if(!sizeBeforeCollapse)return;const panelsArray=panelsMapToSortedArray(panels),index=panelsArray.indexOf(panel);if(index<0)return;if(prevSizes[index]!==collapsedSize)return;const[idBefore,idAfter]=getBeforeAndAfterIds(id,panelsArray);if(null==idBefore||null==idAfter)return;const delta=index===panelsArray.length-1?collapsedSize-sizeBeforeCollapse:sizeBeforeCollapse,nextSizes=adjustByDelta(null,committedValuesRef.current,idBefore,idAfter,delta,prevSizes,panelSizeBeforeCollapse.current,null);if(prevSizes!==nextSizes){const panelIdToLastNotifiedSizeMap=panelIdToLastNotifiedSizeMapRef.current;setSizes(nextSizes),callPanelCallbacks(panelsArray,nextSizes,panelIdToLastNotifiedSizeMap)}}),[]),resizePanel=useCallback(((id,nextSize,unitsFromParams)=>{const{id:groupId,panels,sizes:prevSizes,units}=committedValuesRef.current;if("pixels"===(unitsFromParams||units)){nextSize=nextSize/getAvailableGroupSizePixels(groupId)*100}const panel=panels.get(id);if(null==panel)return;let{collapsedSize,collapsible,maxSize,minSize}=panel.current;if("pixels"===units){const groupSizePixels=getAvailableGroupSizePixels(groupId);minSize=minSize/groupSizePixels*100,null!=maxSize&&(maxSize=maxSize/groupSizePixels*100)}const panelsArray=panelsMapToSortedArray(panels),index=panelsArray.indexOf(panel);if(index<0)return;const currentSize=prevSizes[index];if(currentSize===nextSize)return;collapsible&&nextSize===collapsedSize||(nextSize=Math.min(null!=maxSize?maxSize:100,Math.max(minSize,nextSize)));const[idBefore,idAfter]=getBeforeAndAfterIds(id,panelsArray);if(null==idBefore||null==idAfter)return;const delta=index===panelsArray.length-1?currentSize-nextSize:nextSize-currentSize,nextSizes=adjustByDelta(null,committedValuesRef.current,idBefore,idAfter,delta,prevSizes,panelSizeBeforeCollapse.current,null);if(prevSizes!==nextSizes){const panelIdToLastNotifiedSizeMap=panelIdToLastNotifiedSizeMapRef.current;setSizes(nextSizes),callPanelCallbacks(panelsArray,nextSizes,panelIdToLastNotifiedSizeMap)}}),[]),context=useMemo((()=>({activeHandleId,collapsePanel,direction,expandPanel,getPanelSize,getPanelStyle,groupId,registerPanel,registerResizeHandle,resizePanel,startDragging:(id,event)=>{if(setActiveHandleId(id),isMouseEvent(event)||isTouchEvent(event)){const handleElement=getResizeHandle(id);initialDragStateRef.current={dragHandleRect:handleElement.getBoundingClientRect(),dragOffset:getDragOffset(event,id,direction),sizes:committedValuesRef.current.sizes}}},stopDragging:()=>{!function resetGlobalCursorStyle(){null!==element&&(document.head.removeChild(element),currentState=null,element=null)}(),setActiveHandleId(null),initialDragStateRef.current=null},units,unregisterPanel})),[activeHandleId,collapsePanel,direction,expandPanel,getPanelSize,getPanelStyle,groupId,registerPanel,registerResizeHandle,resizePanel,units,unregisterPanel]),style={display:"flex",flexDirection:"horizontal"===direction?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return createElement(PanelGroupContext.Provider,{children:createElement(Type,{children,className:classNameFromProps,"data-panel-group":"","data-panel-group-direction":direction,"data-panel-group-id":groupId,"data-panel-group-units":units,style:{...style,...styleFromProps}}),value:context})}const PanelGroup=forwardRef(((props,ref)=>createElement(PanelGroupWithForwardedRef,{...props,forwardedRef:ref})));function PanelResizeHandle({children=null,className:classNameFromProps="",disabled=!1,id:idFromProps=null,onDragging,style:styleFromProps={},tagName:Type="div"}){const divElementRef=useRef(null),callbacksRef=useRef({onDragging});useEffect((()=>{callbacksRef.current.onDragging=onDragging}));const panelGroupContext=useContext(PanelGroupContext);if(null===panelGroupContext)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId,direction,groupId,registerResizeHandle,startDragging,stopDragging}=panelGroupContext,resizeHandleId=useUniqueId(idFromProps),isDragging=activeHandleId===resizeHandleId,[isFocused,setIsFocused]=useState(!1),[resizeHandler,setResizeHandler]=useState(null),stopDraggingAndBlur=useCallback((()=>{divElementRef.current.blur(),stopDragging();const{onDragging}=callbacksRef.current;onDragging&&onDragging(!1)}),[stopDragging]);useEffect((()=>{if(disabled)setResizeHandler(null);else{const resizeHandler=registerResizeHandle(resizeHandleId);setResizeHandler((()=>resizeHandler))}}),[disabled,resizeHandleId,registerResizeHandle]),useEffect((()=>{if(disabled||null==resizeHandler||!isDragging)return;const onMove=event=>{resizeHandler(event)},onMouseLeave=event=>{resizeHandler(event)},targetDocument=divElementRef.current.ownerDocument;return targetDocument.body.addEventListener("contextmenu",stopDraggingAndBlur),targetDocument.body.addEventListener("mousemove",onMove),targetDocument.body.addEventListener("touchmove",onMove),targetDocument.body.addEventListener("mouseleave",onMouseLeave),window.addEventListener("mouseup",stopDraggingAndBlur),window.addEventListener("touchend",stopDraggingAndBlur),()=>{targetDocument.body.removeEventListener("contextmenu",stopDraggingAndBlur),targetDocument.body.removeEventListener("mousemove",onMove),targetDocument.body.removeEventListener("touchmove",onMove),targetDocument.body.removeEventListener("mouseleave",onMouseLeave),window.removeEventListener("mouseup",stopDraggingAndBlur),window.removeEventListener("touchend",stopDraggingAndBlur)}}),[direction,disabled,isDragging,resizeHandler,stopDraggingAndBlur]),useWindowSplitterResizeHandlerBehavior({disabled,handleId:resizeHandleId,resizeHandler});const style={cursor:getCursorStyle(direction),touchAction:"none",userSelect:"none"};return createElement(Type,{children,className:classNameFromProps,"data-resize-handle-active":isDragging?"pointer":isFocused?"keyboard":void 0,"data-panel-group-direction":direction,"data-panel-group-id":groupId,"data-panel-resize-handle-enabled":!disabled,"data-panel-resize-handle-id":resizeHandleId,onBlur:()=>setIsFocused(!1),onFocus:()=>setIsFocused(!0),onMouseDown:event=>{startDragging(resizeHandleId,event.nativeEvent);const{onDragging}=callbacksRef.current;onDragging&&onDragging(!0)},onMouseUp:stopDraggingAndBlur,onTouchCancel:stopDraggingAndBlur,onTouchEnd:stopDraggingAndBlur,onTouchStart:event=>{startDragging(resizeHandleId,event.nativeEvent);const{onDragging}=callbacksRef.current;onDragging&&onDragging(!0)},ref:divElementRef,role:"separator",style:{...style,...styleFromProps},tabIndex:0})}PanelGroupWithForwardedRef.displayName="PanelGroup",PanelGroup.displayName="forwardRef(PanelGroup)",PanelResizeHandle.displayName="PanelResizeHandle"}}]);